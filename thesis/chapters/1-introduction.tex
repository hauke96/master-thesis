% !TEX root = ../thesis.tex
% !TeX spellcheck = en_US

% finding good routes is difficult, solved using A*/Dijkstra on networks
Traveling through a network of roads and paths often requires the use of a computer systems determining the optimal route from a source to a target location.
The software used to find such routes is called a routing engine and is based on algorithms optimized to find such routes.
In computer science these algorithms usually work on graphs and the problem to solve is called the \term{shortest-path problem}.
A graph is used as the central data structure abstracting the real world into vertices and edges, which are points connected by lines representing roads and ways.
Such graphs, however, can also represent other non-physical networks, for example trading relations between countries, social media networks or the internet itself.

If the network represents roads and paths, edges only represent an abstraction of the real world.
Detailed geometric information, such as the width or number or lanes, are usually added using attributes.
% networks have to be (manually) created and routing is fixed to network
Unfortunately the real world also contains polygonal shapes like market places, parking areas or parks, where classical routing algorithms can only find paths along the outer edges of these polygons.
Often auxiliary edges are added to connect opposite sides to allow routing algorithms to cross these areas.
This is a common practice in OpenStreetMap, for example on the Rathausmarkt (town hall market) in Hamburg, Germany.
A hand full of lines can be added quite easily by hand, however, filling large areas or even a whole city with these auxiliary paths is not feasible to be done manually.
Algorithms do exist to add paths to areas and will be described later in \cref{subsec:geometric-routing}.

% problem: Most real world destinations are not on the network
A similar problem arises with the exact source and target locations of real world routing.
Often these location are not part of the network, which is the case for most addresses, \term*{points of interest} (POIs) and locations manually chosen by the user.
They either have to be connected manually or a location on the network is chosen to to be the optimal source or target (e.g. by choosing the nearest vertex or point on an edge).
However, the space between such source and target vertices and the actual road network can contain numerous obstacles and a connection might not even exist.

% alternative: geometric routing avoiding obstacles
Next to a network based shortest path algorithm, pure geometric approaches exist to also determine shortest paths\index{geometric routing} among obstacles in open spaces.
Obstacles are geometries that cannot be passed like buildings, fences, lakes or cliffs.
There are two main strategies to solve this problem\cite[2]{hershberger-suri}:

The first approach generate an auxiliary network around these obstacles (just like the auxiliary paths mentioned above) and then use a classical shortest path algorithm to find the actual path.
Probably the most common way is to create a so called \term{visibility graph}, a graph with edged between all visible vertices.
Alternative ways of generating such a network, like skeletonization or Voronoi diagrams, can be used as well but have different properties \cite[3-4]{graser-osm-open-spaces}.
A network based shortest path algorithm is then able to find paths on that network\cite[2]{hershberger-suri}.
Generating a graph can therefore be seen as a pre-processing step.

The second approach does not create such a graph but stores its shortest-path information for each source vertex $s$ in a map.
It therefore subdivides the plain into regions with common predecessor vertices.
Following these predecessors back to $s$, gives the shortest path to a given location.
This approach is also called the \term{continuous dijkstra} paradigm, which will be described in detail in \cref{subsec:geometric-routing}.

Popular approaches for network based routing, like the Dijkstra and A* algorithm, are well understood, optimized and used in numerous science and real world applications.
Optimizations and the usage of better data structures lead to further performance enhancements making the use of such routing algorithm on large scale networks possible.
Even though, the performance is good enough for larger networks, like the road network of the USA\cite[5]{aviram-optimizing-dijkstra}, several speed up methods exist, to further decrease query times.
Some of them will be covered later in \cref{subsec:speedup-methods}.
Using such techniques enables global routing request being processed within milliseconds\footnote{Tested for a routing request from Hamburg, Germany to Beijing, China on \href{https://www.openstreetmap.org/directions?engine=fossgis\_osrm\_car&route=53.55\%2C10.00\%3B39.91\%2C116.39}{openstreetmap.org} using the OSRM car profile which is based on Contraction Hierarchies (s. \cref{subsubsec:ch}). The HTTP request returned the result in under 215ms -- including network latency of several milliseconds.}

% this thesis: combine both worlds: Good data of networks and flexibility of geom. routing
This thesis proposes, implements and evaluates a hybrid routing algorithm that combines geometric with network based routing.
Such an hybrid approach will benefit from the performance of network based algorithms with the flexibility of geometric routing.
Calculating shortest paths is still fast but reaches arbitrary locations.
Normal real world user but also simulations, such as multi-agent simulations of pedestrians, can benefit from this algorithm.