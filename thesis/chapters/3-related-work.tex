% !TEX root = ../thesis.tex
% !TeX spellcheck = en_US

Scientific literature contains related work from many different areas, mostly from geodata, graph construction and networks as well as routing and (pedestrian) path planning.
This section gives an overview about closely related work from these areas.

\section{Graph generation}
\label{sec:graph-generation}

	Generating, enhancing and filling graphs with edges is an important topic for this thesis.
	Numerous approaches exist and have been used and discussed in the literature.
	This section gives an overview of some approaches.

	\subsection{Visibility graphs}
	\label{subsec:related-work:visibility-graph}

		Constructing a visibility graph is an important part of this thesis.
		Even though numerous approaches to create such graph were presented over the last decades, the worst-case time complexity of this problem will always be quadratic.
		This is due to the worst case graph where all vertices are visible to each other resulting in $\Omega(n^2)$ (precisely $|E| \leq \frac{n^2-n}{n}$) many edges in the output graph.
		
		% with some assumptions like no collinear vertices (even though these assumptions are not necessary): Constructing the visibility graph for n-line segments in O(nÂ²) time (Emo Welzl, 1985)
		The construction of visibility graphs in $\bigo{n^2}$ time and space (with $n$ line segments), under the condition of no collinear vertices and no intersecting line segments, was presented by Welzl in 1985\cite{welzl-visibility-graph}.
		
		A few years later in 1988, Overmars and Welzl presented two new methods reducing the space complexity to $\bigo{n}$ \cite{overmars-weizl-visibility-graph} and one of these methods has a time complexity of $\bigo{E \log n}$ with $E$ being the number of output edges.
		Their new algorithms are based on Welzls earlier paper and implement the idea of a rotational sweep through neighboring vertices.
		
		The time complexity of Overmars and Welzls approach was already output sensitive by the number of edges in the output graph \cite{ghosh-output-sensitive-vgraph}.
		Ghosh and Mount presented another algorithm with an output sensitive complexity of $\bigo{E + n \log n}$, which is a significant improvement, since $E$ is in $\bigo{n^2}$.
		However, their approach needs $\bigo{E + n}$ space compared to $\bigo{n}$ from the earlier algorithm.
		Ghosh and Mount use plain-sweeps to create a triangulation of the free space and introduced so called \emph{funnel sequences}, which are sets of vertices visible to parts of an edge.
		To avoid numerous edge cases, their approach assumes no collinear vertices and unique x-coordinates.
		
		Kapoor and Maheshwari introduced two algorithms, one for determining shortest paths and one to create a visibility graph, which are based on triangulations as well \cite{kapoor-shortest-path-vgraph}.
		Finding shortest paths in the presence of $m$ polygonal obstacles works in $\bigo{m^2 \log{n} + n\log{n}}$ with their approach but only uses a certain subset of the visibility graph to actually determine the shortest path.
		Their visibility graph creation is done in $\bigo{E+T}$, with $T$ being the time needed to triangulation the space between the obstacles, and therefore has the same complexity as Ghosh and Mounts algorithm since a triangulation of the space between $n$ obstacles can be done in $\bigo{n \log{n}}$.
		% TODO https://www.researchgate.net/profile/Vasyl-Tereshchenko/publication/321979941_Triangulating_a_region_between_arbitrary_polygons/links/5a6b1b94458515b2d0539612/Triangulating-a-region-between-arbitrary-polygons.pdf
		Due to its simpler structure, the approach by Kapoor and Maheshwari might lead to a better performance in practice.
		
		% evtl. noch: A NEW ALGORITHM FOR COMPUTING VISIBILITY GRAPHS OF POLYGONAL OBSTACLES IN THE PLANE
		
		% Showing low performance of visibility graph generation (probably not well optimized? + 2010 computers): https://www.researchgate.net/profile/Jukka_Krisp/publication/311582140_Goal_Directed_Visibility_Polygon_Routing_for_Pedestrian_Navigation/links/584ec1cf08aecb6bd8d004a1/Goal-Directed-Visibility-Polygon-Routing-for-Pedestrian-Navigation.pdf
	
	\subsection{Enhancing existing graphs}
	
		Graph generation techniques can be used to fill missing data in routing graphs or enhance these in case of a low degree of detail.
		
		Stefan Funke et al. achieved this by filling holes in an existing road graph, which was the OpenStreetMap network in their case \cite{funke-osm-extrapolation}.
		To do so, they developed a metric to detect holes in an existing graph based on the following idea:
		If the shortest path between two vertices is much longer than the euclidean distance, there is probably a hole in the network.
		However, this metric leads to false positives when large obstacles, such as a river, is between the two vertices.
		In this case, the euclidean and shortest path distances differ a lot, which is in deed correct in such cases.
		To handle such problems caused by obstacles, they discussed the use of Mitchells wavefront propagation algorithm as discussed \hyperref[related-work:mitchell]{above}.
		Due to the complexity and lower performance, they decided to use a dense grid instead, cutting out edges intersecting obstacles and use this remaining grid for navigation.
		Unfortunately, the use of other graph generation algorithms (for example generating a visibility graph) was not discussed.
		
		% https://drops.dagstuhl.de/opus/volltexte/2015/5459/pdf/10.pdf
		Andreev et al. also worked on the existing OpenStreetMap graph but they added sidewalks to roads for more realistic routing and also tried to handle arbitrary source and target locations of routing queries \cite{andreev-osm-generate-sidewalks}.
		They not only added sidewalks but also dealt with open spaces such as plazas and parks.
		For each plaza, which usually do not contain designated footways, they create a visibility graph to generate edges within the plaza.
		Edges not relevant for paths through the plaza are removed afterwards.
		Parks are handles differently, since they often contain designated paths.
		If the source or target starts within a park, special edges are added based on the walking speed and existing edges for paths within the park.
		After this preprocessing, Dijkstra is used to determine the complete shortest path.
	
	\subsection{Filling open spaces}
	\label{subsec:filling-open-spaces}
	
		A task, which is more relevant for this thesis, is filling open spaces with edges for navigation purposes.
		This can be done by using one of several approaches.
	
		Kneidl, Borrmann and Hartmann used visibility graphs to produce a sparse graph suitable for navigation \cite{kneidl-borrmann-hartmann-navigation}.
		They chose the construction of a visibility graph over generalized Voronoi diagrams for more realistic edges.
		
		The same strategy was used by Liu and Zlatanova for indoor routing through open spaces \cite{liu-indoor-routing}, however, they took the size of a pedestrians into account and added a buffer area around obstacles by calculating their Minkowski sum.
		Xu et al. also created a precise indoor navigation algorithm but they used a certain Delaunay triangulation, which is faster than the visibility graph creation but comparably good \cite{xu-indoor-delaunay} for their use case.
		
		Another interesting paper on enhancing existing navigation graphs was presented in 2016 by Anita Graser, where she integrated visibility graph edges into the existing OSM data model\cite{graser-osm-open-spaces}.
		Again, the visibility graph was the preferred method to generate edges.
		Considered and discussed alternatives were two skeletonization methods and the usage of a simple grid filling the open spaces.
		
	\subsection{Generate graphs from existing maps}
	
		A graph is not always available, which motivated Walter et al. to create a procedure using raster maps \cite{walter-raster-maps}.
		They proposed an algorithm with four steps:
		First, the raster data is classified in obstacle and non-obstacle pixels.
		Second, the data is used to create a skeletonization graph from it.
		Third, this graph is used for routing with the A* algorithm.
		Fourth, the result is smoothed since the skeletonization might yield edges, which will not naturally be used by pedestrians.
		Even though, this technique works well on large datasets, the reason of skeletonization instead of visibility edges or other generation algorithms, was not further discussed.
		
		A similar work was presented by Birgit Elias merging multiple data sources, like topographical maps or indoor building plans, into one vector dataset for routing \cite{elias-tailored-geodatabase}.
		To create a graph from existing maps, she used a skeletonization method based on a Delaunay triangulation.
		She also took into account that important point like structures, like entrances or other \term*{points of interest}, need to be connected to the graph as well.
		This was solves by creating a perpendicular line to the nearest edge of the graph.
		The problem of unconnected points of interest is one topic of this thesis and is solved during graph creation as mentioned later in \cref{subsec:step-1-preprocessing}.
		
	\subsection{Crowd sourced graph generation}
	
		All graph generation method presented so far are algorithmic approaches.
		However, mobile devices can store the users location and trajectory, which can be used as a data source to construct a navigation graph.
		
		Kasemsuppakorn et al. use GPS traces to create a pedestrian navigation graph \cite{kasemsuppakorn-gps-traces-pedestrain-network}.
		Due to the inherent inaccuracies, outliers and general noise of GPS data, the traces are preprocessed to ensure a certain level of quality (for example by only allowing points created using at least four satellites).
		The graph generation process takes one trace at a time and first determines the most significant points on that trace, which build a simplified shape of the trace.
		New segments are created and possibly merged with existing closely located segments having an almost parallel trajectory.
		
		Zhou et al. also used the idea of using crowd sourced location data to create a navigation \cite{zhou-crowd-sourced-navigation}.
		They also filtered out GPS based data anomalies and created a density map from this cleaned location data.
		The ridge lines of this density map were turned in to edges, since many people walked along these ridge lines.
		An evaluation of their approach showed that even small amounts of data are enough to create a sufficient routing network.
		Unsurprisingly, the accuracy and density of the network increases with the number of input trajectories.
	
\section{Routing}

	As done in the previous chapter, this section covers geometric and network based routing.
	Related work regarding specific routing techniques for pedestrian navigation is described below in \cref{sec:pedestrian-path-planning}.
	
	\subsection{Geometric routing}
	
		% Shortest paths among obstacles in the plane (Mitchell, 1993)
		\label{related-work:mitchell}
		Shortly after Welzl and others published their work on visibility graphs, which can be used in combination with Dijkstra to find shortest paths, Mitchell presented a pure geometric method to find euclidean shortest paths around obstacles in the plain in 1993\cite{mitchell-shortest-path}.
		He used wavefronts propagating from the source towards the target vertex.
		Each origin of a wavefront can be traces back to its source giving the shortest path.
		Because this algorithm solves the \hyperref[subsubsec:single-source-shortest-path]{\term*{single-source shortest path} problem}, just like the Dijkstra algorithm does on a network, this technique is also called the \term{continuous dijkstra} paradigm.
		
		% An Optimal Algorithm for Euclidean Shortest Paths in the Plane (Hershberger, Suri, 1999)
		Another approach solving the geometric single-source shortest path problem was presented by Hershberger and Suri one year later, in 1997 \cite{hershberger-suri}.
		They also use the \term*{continuous dijkstra} paradigm but increase performance by introducing a special quad-tree like structure as a smart subdivision of the plane and also introduce approximate wavefronts.
		The difficult part is the collision handling of non neighboring wavelets.
		Maintaining some important properties is crucial to the efficiency when creating the subdivision, most important is the $\bigo{1}$ amount of neighboring cells around an edge.
		Their algorithm calculates a shortest path map allowing queries to be answered in only $\bigo{n \log n}$ time and space, where $n$ is the number of vertices in all obstacles.
		
	\subsection{Network based routing}
	
		The topic of network based routing, meaning the problem of determining shortest path in a graph, is a well studied area with widely used algorithms.
		
		One of the most popular algorithms is the A* algorithm introduced by Hart, Nilsson and Raphael in 1968 \cite{astar}.
		A detailed description of A* including its time and space complexities can be found in \cref{subsubsec:astar}.

		Because the result of this thesis can be used with any network based algorithm, all previously described \hyperref[subsec:routing-engines]{routing algorithms} and \hyperref[subsec:speedup-methods]{speedup methods} are related to this thesis.
		The combination of speedup methods is also possible and has been studied by Bauer et al. \cite{bauer-combining-speedup-methods} with promising results on the combination of arc-flags and highway hierarchies, which they called CHASE.
		A comparison by Bast et al. showed the performance increase against normal speedup methods \cite{bast-transportation-networks}, for example compared to contraction hierarchies, which had a 19 times slower query time but a six times faster preprocessing.

\section{Pedestrian path finding}
\label{sec:pedestrian-path-planning}
	
	A special case of the general single-source shortest path problem is pedestrian routing, also called pedestrian shortest-path finding.
	This problem is especially interesting since pedestrians have the maximum degree of flexibility/freedom compared to other traffic participants like bikes or cars.
	Therefore, geometric routing is a good way to find shortest-paths for pedestrians.
	
	Pedestrian path finding is, however, not only relevant for real world users, who want to know how to get from one location to another.
	Such algorithms are also used in (multi) agent simulations of pedestrian behavior.
	Scenarios in such simulations are for example evacuation or crowd behaviors.
	The area of pedestrian path planning and simulations is divided into two strategies: Network and field based path finding \cite{hartmann-geodesic}.
	Work from both strategies will be covered here.
	
	\subsection{Field based and dynamic navigation}
	
		Next to geometric and network based routing, potential fields can be used to find shortest paths within this field.
		
		% online routing: A Navigation Algorithm for Pedestrian Simulation in Dynamic Environments (Teknomo, Millonig, 2007)
		Teknomo and Millonig created a dynamic algorithm which does not pre-compute the path with one of the above mentioned approaches\cite{teknomo-millonig-routing}.
		This is interesting, since the probably most common and naive approach is to pre-compute the route used by an agent within a simulation.
		The term \enquote{dynamic} refers to the fact, that real world pedestrians often only consider the near neighborhood within their path planning.
		Even if a person knows the hole area, dynamic changes (closed doors, construction work, crowds blocking the way) can still occur at any point in time.
		Therefore, considering such dynamic changes make agent based simulations more realistic.
		
		% maybe: pure geometric/geodesic approach with navigation fields: https://iopscience.iop.org/article/10.1088/1367-2630/12/4/043032/pdf
		The above mentioned dynamic routing by Teknomo and Millonig has strong similarities to approaches based on potential fields, like the dynamic path finding from Hartmann, 2010\cite{hartmann-geodesic}.
		He proposed a mechanism using vector fields in a cellular automaton model with hexagonal cells.
		Interestingly, this method can be interpreted as wavefronts, like in Mitchells algorithm described above, propagating through the vector field.
			
	\subsection{Graph based path planning}
	
		An alternative to field based approaches are graph based ones, where a graph is constructed and then used in navigation.
		The construction can be based on potential fields but also on the \hyperref[subsec:related-work:visibility-graph]{above} mentioned \term*[visibility graph]{visibility graphs}.
		
		In fact, Gloor, Stucki and Nagel presented a pedestrian navigation model and a comparison of these two strategies regarding their performance\cite{gloor-hybrid-pedestrian-routing}.
		They developed this model for a pedestrian simulation in the Alps, where a hiking network should be enhanced with additional navigation information.
		Two approaches were presented: A potential field based method, which is used in navigation when needed, and a visibility graph, which is merged into the existing hiking network.
		For the performance evaluation, they used an evacuation scenario and the results showed, that both navigation mechanisms are comparably fast.
		
		The work of Kneidl et al. from \cref{subsec:filling-open-spaces}, was used by Kielar et al. as a basis for a generalized routing model for pedestrian simulations \cite{kielar-unified-pedestrian-routing} taking cognitive models of agents into account.
		Cognitive models take into account that humans create their own mixed and fuzzy path finding behavior, which differs from optimal mathematical algorithms like Dijkstra.
		Basic behaviors of human crowds are herding and learning from others, which makes communication and observation between agents necessary.
		
		